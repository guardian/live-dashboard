# Routes
# This file defines all application routes (Higher priority routes first)
# ~~~~

# Home page
GET     /                           controllers.Application.index()

GET     /top10                      controllers.Application.top10()
GET     /top10chart                 controllers.Application.top10chart()
GET     /top20                      controllers.Application.top20()
GET     /top20chart                 controllers.Application.top20chart()

GET     /about                      controllers.Application.about()

GET     /detail/:id                 controllers.Application.detail(id: String)

GET     /search                     controllers.Application.search()

GET     /content                    controllers.Application.content()
GET     /contentChart                controllers.Application.contentChart()

GET     /api/counts                 controllers.Api.counts(callback: Option[String])
GET     /api/search                 controllers.Api.search(callback: Option[String], since: Long ?= 0)

GET     /login                      controllers.Login.login
POST    /login                      controllers.Login.loginPost
GET     /openIDCallback             controllers.Login.openIDCallback
GET     /logout                     controllers.Login.logout

# Map static resources from the /public folder to the /assets URL path
GET     /assets/*file               controllers.Assets.at(path="/public", file)

GET     /health-check               controllers.Management.apply(path="/health-check")

GET     /management$path<.*>        controllers.Management.apply(path)
POST    /management$path<.*>        controllers.Management.apply(path)

# and this one because the greasemonkey script references it
# hmm doesn't work :(
#GET     /static/gm-stats.css        controllers.Assets.at(path="/public", file="stylesheets/gm-stats.css")
